# ESP IR BLE Receiver (ESP32-C3)

Минимальная прошивка для ESP32-C3, предназначенная для приёма ИК-сигналов и передачи их на Android-приложение по BLE.

## Назначение

Прошивка решает строго ограниченный набор задач:

1. Установить BLE-соединение с Android-устройством.
2. Захватывать ИК-сигнал с приёмника (TSOP).
3. Передавать захваченный ИК-кадр в Android через BLE-характеристику.
4. Логировать все принятые ИК-данные в UART (для отладки).

Хранение кодов, повторное воспроизведение, протоколы высокого уровня и любая бизнес-логика **намеренно отсутствуют**.

## Функциональность

- ESP32-C3
- BLE GATT сервер
- Одна BLE-служба
- Одна notify-характеристика для передачи ИК-кадров
- Захват ИК через RMT
- Поддержка MTU > 20 байт (передача фрейма чанками)
- Логи через UART

## Архитектура

TSOP IR Receiver -> RMT -> IR durations (Int[]) -> BLE Notify -> Android App


## BLE

- Пользовательские 128-бит UUID
- Передача данных только по `notify`
- ESP — пассивный отправитель, инициатор взаимодействия — Android

## Ограничения (осознанные)

- Нет SPIFFS / NVS
- Нет сохранения кодов
- Нет повторной передачи ИК
- Нет декодирования протоколов (NEC / RC5 / и т.д.)
- Нет защиты соединения (bonding / encryption)

## Использование

1. Подключить ИК-приёмник (TSOP) к GPIO.
2. Собрать и прошить ESP32-C3.
3. Запустить Android-приложение и подключиться по BLE.
4. Передать ИК-команду с пульта.
5. Получить массив интервалов (durations) на стороне Android.

## Цель проекта

Создать максимально простой и надёжный мост между ИК-приёмником и Android-приложением без лишних абстракций, чтобы вся логика обработки, визуализации и хранения находилась **на стороне Android**.

## Статус

Experimental / Prototype  
Интерфейсы и формат данных могут меняться.

